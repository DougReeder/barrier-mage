<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Barrier Mage</title>
    <meta name="description" content="[work in progress]">

    <script src="https://aframe.io/releases/1.0.4/aframe.min.js"></script>
    <script src="https://unpkg.com/aframe-state-component@^4.7.0/dist/aframe-state-component.min.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/donmccurdy/aframe-extras@v6.1.0/dist/aframe-extras.controls.min.js"></script>
    <script src="https://unpkg.com/aframe-geometry-merger-component@^2.0.0/dist/aframe-geometry-merger-component.min.js"></script>
    <script src="https://unpkg.com/aframe-aabb-collider-component@^2.2.1/dist/aframe-aabb-collider-component.min.js"></script>

    <script src="https://unpkg.com/aframe-atoll-terrain@^0.6.1/dist/aframe-atoll-terrain.js"></script>
    <script src="https://unpkg.com/aframe-simple-sun-sky@^1.2.2/simple-sun-sky.js"></script>
    <script src="src/moving-sun.js"></script>
    <script src="https://unpkg.com/aframe-look-at-component@^1.0.0/dist/aframe-look-at-component.min.js"></script>
    <script src="src/math.js"></script>
    <script src="src/navigation.js"></script>
    <script src="src/state.js"></script>
    <script src="src/gesture.js"></script>

<!--    <meta name="monetization" content="$ilp.uphold.com/jU9WUDJZNgQi">-->
</head>
<body>
<a-scene moving-sun atoll-walk background="color:#398bc5">
    <a-assets>
        <a-asset-item id="staffModel" src="assets/gandalfs_staff_sized.glb"></a-asset-item>
        <audio id="fizzle" src="assets/455289__zembacraftworks__sad-chime-effect.mp3"></audio>
        <audio id="force" src="assets/340159__flechabr__magic-click.mp3"></audio>
        <audio id="flame" src="assets/331621__hykenfreak__flame-ignition.mp3"></audio>
    </a-assets>

    <a-atoll-terrain mean-elevation="3" plateau-radius="5" plateau-elevation="5" middle-radius="75" unit-size="1.5" far="750"
                     land-yin-color="#528d04" land-yang-color="#278d53" sea-yin-color="#005e85" sea-yang-color="#2571cf"
                     sun-position="0.8 0.6 0">
    </a-atoll-terrain>
    <a-simple-sun-sky radius="800" sun-position="0.8 0.6 0"></a-simple-sun-sky>
    <a-entity id="ambient" light="type:ambient; color:#fff; intensity:1.1"></a-entity>
    <a-entity id="directional" light="type:directional; color:#FFF; intensity:1.0" position="0.8 0.6 0"></a-entity>

    <a-entity id="rig" position="0 5 0" movement-controls="speed:0.2" rig-tick-state>
        <a-entity camera="far:1500; near:0.05" position="0 1.6 0" look-controls="pointerLockEnabled:false"></a-entity>
        <a-entity id="leftHand"  hand-controls="hand:left;  color:#555" gesture></a-entity>
        <a-entity id="rightHand" hand-controls="hand:right; color:#555" gesture></a-entity>
    </a-entity>
    <a-entity id="staff" gltf-model="#staffModel" position="0 5.95 -3"></a-entity>
</a-scene>
</body>
</html>
